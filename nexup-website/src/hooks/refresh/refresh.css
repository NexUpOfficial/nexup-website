/* ==============================================
 * REFRESH PAGE STYLES
 * ============================================== */

/* --- 1. BLUR OVERLAY --- */
.refresh-blur-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.2); /* Subtle dimming */
  backdrop-filter: blur(0px); /* Base filter */
  z-index: 999; 
  pointer-events: none; /* Allows clicks/taps to pass through */
  opacity: 0;
  transition: opacity 0.3s ease;
}

.refresh-blur-overlay.visible {
    /* The opacity is controlled by the JS `pullY / 200` for smooth fade */
    backdrop-filter: blur(5px); /* Apply blur instantly when active */
}

/* --- 2. ARROW SHELL CONTAINER --- */
.refresh-arrow-shell {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%) translateY(0);
  z-index: 1000;
  
  /* Initial visual state */
  width: 40px;
  height: 40px;
  opacity: 0;
  
  /* Smooth transitions for the snap back and opacity */
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.2s ease;
}

/* --- 3. PULLING ARROW (Default State) --- */

.refresh-arrow-svg {
  width: 100%;
  height: 100%;
  transition: transform 0.1s linear; /* Quick rotation transition */
}

/* The circle forming the shell */
.refresh-arrow-circle {
  fill: rgba(255, 255, 255, 0.1); /* Subtle white fill for the glass effect */
  stroke: rgba(255, 255, 255, 0.3); /* Light border */
  stroke-width: 1px;
  /* Add subtle inner shadow for depth (pure CSS glassmorphism) */
  filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));
}

/* Arrow inside the circle */
.refresh-arrow-stem,
.refresh-arrow-head {
  fill: none;
  stroke: #ffffff; /* White arrow */
  stroke-width: 2.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}


/* --- 4. REFRESHING LOADER (Spinner) --- */

/* The shell container during refresh mode */
.refresh-arrow-shell.refreshing {
  /* No visual pull translation, it locks at the top */
  transform: translateX(-50%) translateY(30px); 
  transition: transform 0.2s ease;
}

.refresh-loader-svg {
  width: 100%;
  height: 100%;
  animation: rotate 1.5s linear infinite;
}

.refresh-loader-track {
  fill: none;
  stroke: rgba(255, 255, 255, 0.1); /* Faint gray track */
  stroke-width: 3;
}

.refresh-loader-head {
  fill: none;
  stroke: #ffffff; /* White moving line */
  stroke-width: 3;
  stroke-linecap: round;
  /* Key properties for making it look like a spinner */
  stroke-dasharray: 80, 200; 
  stroke-dashoffset: 0;
  animation: dash 1.5s ease-in-out infinite;
}

/* Keyframe Animations */
@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes dash {
  0% {
    stroke-dashoffset: 200;
  }
  50% {
    stroke-dashoffset: 50;
  }
  100% {
    stroke-dashoffset: 200;
  }
}